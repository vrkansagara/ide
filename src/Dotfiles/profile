# ~/.profile
# Executed by login shells

# -------------------------------------------------
# Load bashrc if running bash
# -------------------------------------------------
if [ -n "$BASH_VERSION" ] && [ -f "$HOME/.bashrc" ]; then
    . "$HOME/.bashrc"
fi

# -------------------------------------------------
# PATH setup (no duplicates)
# -------------------------------------------------
[ -d "$HOME/bin" ] && PATH="$HOME/bin:$PATH"
[ -d "$HOME/.local/bin" ] && PATH="$HOME/.local/bin:$PATH"
[ -d "$HOME/sbin" ] && PATH="$HOME/sbin:$PATH"

export PATH

# -------------------------------------------------
# Debian / Docker defaults
# -------------------------------------------------
export DEBIAN_FRONTEND=noninteractive

export DOCKER_BUILDKIT=1
export COMPOSE_BAKE=true

# -------------------------------------------------
# Node.js memory limit
# -------------------------------------------------
export NODE_OPTIONS="--max-old-space-size=4096"

# -------------------------------------------------
# 1Password SSH Agent
# -------------------------------------------------
export SSH_AUTH_SOCK="$HOME/.1password/agent.sock"

# -------------------------------------------------
# NVM (Node Version Manager)
# -------------------------------------------------
export NVM_DIR="$HOME/.nvm"
if [ -s "$NVM_DIR/nvm.sh" ]; then
    . "$NVM_DIR/nvm.sh"
fi
if [ -s "$NVM_DIR/bash_completion" ]; then
    . "$NVM_DIR/bash_completion"
fi

# -------------------------------------------------
# Flutter & Android
# -------------------------------------------------
export PATH="$HOME/applications/flutter/bin:$PATH"
export ANDROID_HOME="$HOME/Android/Sdk"
export PATH="$ANDROID_HOME/emulator:$ANDROID_HOME/platform-tools:$PATH"

# -------------------------------------------------
# App environment
# -------------------------------------------------
export WP_ENVIRONMENT_TYPE="local"
